<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Perubahan Iklim - SimuLab</title>
<style>
    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        margin: 0;
        min-height: 100vh;
        color: #333;
        display: flex;
        flex-direction: column;
    }
    header {
        background: rgba(255, 255, 255, 0.95);
        padding: 1rem 2rem;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .header-content {
        max-width: 1200px;
        margin: 0 auto;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    .logo {
        font-size: 1.5rem;
        font-weight: 700;
        color: #667eea;
    }
    .back-button {
        background: #667eea;
        color: white;
        border: none;
        padding: 0.6rem 1.2rem;
        border-radius: 6px;
        cursor: pointer;
        font-weight: 600;
        transition: background 0.2s ease;
    }
    .back-button:hover {
        background: #764ba2;
    }
    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem;
        flex: 1;
    }
    .title {
        color: white;
        text-align: center;
        margin-bottom: 2rem;
    }
    .title h1 {
        font-size: 2.5rem;
        margin-bottom: 0.5rem;
    }
    .title p {
        font-size: 1.1rem;
        opacity: 0.9;
    }
    .content {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 2rem;
    }
    .simulation-area {
        background: white;
        border-radius: 12px;
        padding: 2rem;
        box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    .canvas-container {
        width: 100%;
        max-width: 500px;
        background: #f0f3ff;
        border-radius: 8px;
        overflow: hidden;
        margin-bottom: 1.5rem;
        border: 2px solid #667eea;
    }
    canvas {
        width: 100%;
        height: 320px;
        display: block;
        background: linear-gradient(to top, #a0c4ff, #caf0f8);
    }
    .controls {
        max-width: 500px;
        width: 100%;
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }
    .control-group label {
        font-weight: 600;
        color: #333;
        margin-bottom: 0.3rem;
        display: block;
    }
    input[type="range"] {
        width: 100%;
    }
    .info-panel {
        background: white;
        border-radius: 12px;
        padding: 2rem;
        box-shadow: 0 8px 25px rgba(0,0,0,0.2);
    }
    .info-section {
        margin-bottom: 1.2rem;
    }
    .info-section h3 {
        color: #667eea;
        margin-bottom: 0.5rem;
        font-size: 1.1rem;
    }
    .stat-box {
        background: #f0f3ff;
        border-left: 4px solid #667eea;
        padding: 1rem;
        margin-bottom: 0.5rem;
        border-radius: 4px;
        font-size: 1rem;
    }
    footer {
        background: rgba(0,0,0,0.8);
        color: white;
        text-align: center;
        padding: 1rem;
        margin-top: 2rem;
    }
    @media (max-width: 968px) {
        .content {
            grid-template-columns: 1fr;
        }
    }
    @media (max-width: 480px) {
        .title h1 {
            font-size: 1.5rem;
        }
    }
</style>
</head>
<body>
<header>
    <div class="header-content">
        <div class="logo">üß™ SimuLab</div>
        <button class="back-button" onclick="window.history.back()">‚Üê Kembali</button>
    </div>
</header>

<div class="container">
    <div class="title">
        <h1>‚ùÑÔ∏è Perubahan Iklim</h1>
        <p>Simulasi perubahan iklim dengan kontrol emisi CO‚ÇÇ, deforestasi, dan urbanisasi.</p>
    </div>

    <div class="content">
        <div class="simulation-area">
            <div class="canvas-container">
                <canvas id="climateCanvas"></canvas>
            </div>
            <div class="controls">
                <div class="control-group">
                    <label for="co2Slider">Emisi CO‚ÇÇ (%): <span id="co2Val">50</span></label>
                    <input type="range" id="co2Slider" min="0" max="100" value="50" />
                </div>
                <div class="control-group">
                    <label for="deforestSlider">Tingkat Deforestasi (%): <span id="deforestVal">30</span></label>
                    <input type="range" id="deforestSlider" min="0" max="100" value="30" />
                </div>
                <div class="control-group">
                    <label for="urbanSlider">Urbanisasi (%): <span id="urbanVal">40</span></label>
                    <input type="range" id="urbanSlider" min="0" max="100" value="40" />
                </div>
                <div class="control-group">
                    <label>Suhu Global (¬∞C): <span id="tempVal">15.0</span></label>
                </div>
            </div>
        </div>

        <div class="info-panel">
            <div class="info-section">
                <h3>üìö Tentang Perubahan Iklim</h3>
                <p>Perubahan iklim dipengaruhi oleh emisi gas rumah kaca, deforestasi, dan pertumbuhan urbanisasi yang berdampak pada suhu global.</p>
            </div>
            <div class="stat-box" id="impactBox">
                <strong>Dampak Visual</strong>
                <ul>
                    <li>‚ùÑÔ∏è Es Kutub</li>
                    <li>üèôÔ∏è Urbanisasi</li>
                    <li>üå≥ Hutan</li>
                    <li>üåä Permukaan Laut</li>
                </ul>
                <span style="color:#888;">Naiknya suhu = es mencair, permukaan laut naik, dan hutan makin gundul.</span>
            </div>
        </div>
    </div>
</div>

<footer>
    <p>&copy; 2025 SimuLab - Platform Simulasi Sains Interaktif</p>
</footer>

<script>
const canvas = document.getElementById('climateCanvas');
const ctx = canvas.getContext('2d');
let W, H;

function resize() {
    W = canvas.parentElement.offsetWidth;
    H = 320;
    canvas.width = W;
    canvas.height = H;
}
window.addEventListener('resize', resize);
resize();

let co2 = 50;
let deforest = 30;
let urban = 40;
const tempBase = 14;

function updateValues() {
    document.getElementById('co2Val').textContent = co2;
    document.getElementById('deforestVal').textContent = deforest;
    document.getElementById('urbanVal').textContent = urban;
    let temp = tempBase + co2*0.04 + deforest*0.03 + urban*0.02;
    temp = Math.min(temp, 35);
    document.getElementById('tempVal').textContent = temp.toFixed(1);
}

function draw() {
    ctx.clearRect(0, 0, W, H);

    // Background bumi
    let grd = ctx.createLinearGradient(0, 0, 0, H);
    grd.addColorStop(0, '#b5eafd');
    grd.addColorStop(0.45, '#65c7af');
    grd.addColorStop(1, '#fbf2e4');
    ctx.fillStyle = grd;
    ctx.fillRect(0, 0, W, H);

    // Es kutub atas - menyusut jika co2/deforest tinggi
    let esLebar = W * (1 - (co2 + deforest)/220); // makin kecil makin besar co2/deforest
    let esTinggi = 35;
    ctx.fillStyle = "#e0f6ff";
    ctx.beginPath();
    ctx.ellipse(W/2, esTinggi/2, esLebar/2, esTinggi, 0, 0, Math.PI*2);
    ctx.fill();
    ctx.font = "18px Segoe UI";
    ctx.fillStyle = "#598b9b";
    ctx.textAlign="left"; ctx.fillText("‚ùÑÔ∏è Es Kutub", 12, 30);

    // permukaan laut naik-turun
    let temp = parseFloat(document.getElementById('tempVal').textContent);
    let naikker = (co2+deforest)*0.7;
    let seaY = H-55-naikker;
    ctx.fillStyle = "#3793cf";
    ctx.beginPath();
    ctx.moveTo(0, seaY);
    for(let i=0;i<W;i+=10){
        ctx.lineTo(i, seaY+7*Math.sin(i/25+Date.now()/570));
    }
    ctx.lineTo(W, H);
    ctx.lineTo(0, H);
    ctx.closePath();
    ctx.globalAlpha = 0.8; ctx.fill(); ctx.globalAlpha=1;
    ctx.font="18px Segoe UI";
    ctx.fillStyle="#1c5d96";
    ctx.fillText("üåä Laut", 12, seaY+32);

    // daratan dan pohon/hutan
    let nPohon = Math.round(10-(deforest/10));
    let tanahY=seaY-34;
    ctx.fillStyle="#a2cf4b";
    ctx.beginPath();
    ctx.ellipse(W/3, tanahY, W/4, 26, 0, Math.PI*1, Math.PI*2);
    ctx.ellipse(W*2/3, tanahY, W/5, 22, 0, Math.PI*1, Math.PI*2);
    ctx.fillStyle="#7dbe39";
    ctx.globalAlpha=0.5; ctx.rect(0, tanahY, W, H-tanahY); ctx.fill(); ctx.globalAlpha=1;
    for(let i=0;i<nPohon;i++){
        let px = (W*0.15)+(i/nPohon)*(W*0.7);
        ctx.fillStyle="#329f44";
        ctx.fillRect(px, tanahY-18, 7, 16);
        ctx.beginPath();
        ctx.arc(px+3.5, tanahY-20, 11, 0, Math.PI*2);
        ctx.fillStyle="#7bd65b";
        ctx.fill();
    }
    ctx.fillStyle="#39942a"; ctx.font="18px Segoe UI";
    ctx.fillText("üå≥ Hutan", 12, tanahY-18);

    // kota (urbanisasi)
    let nKota = Math.floor(urban/14);
    for(let i=0;i<nKota;i++){
        let bx = W-32 - i*24;
        let bh = 25+(i%3)*8;
        ctx.fillStyle="#6b757f";
        ctx.fillRect(bx, seaY-bh, 20, bh);
        ctx.fillStyle="#fff";
        ctx.fillRect(bx+6, seaY-bh+8, 4, 7);
    }
    ctx.font="18px Segoe UI"; ctx.fillStyle="#5a5a5a";
    ctx.fillText("üèôÔ∏è Kota", W-92, seaY-50);

    // suhu global
    ctx.fillStyle = "#b31a45";
    ctx.font = "bold 22px Segoe UI";
    ctx.textAlign = "center";
    ctx.fillText('Suhu Global: ' + temp.toFixed(1) + ' ¬∞C', W/2, 45);
}

function animate() {
    draw();
    requestAnimationFrame(animate);
}

document.getElementById('co2Slider').addEventListener('input', e => {
    co2 = +e.target.value;
    updateValues();
});
document.getElementById('deforestSlider').addEventListener('input', e => {
    deforest = +e.target.value;
    updateValues();
});
document.getElementById('urbanSlider').addEventListener('input', e => {
    urban = +e.target.value;
    updateValues();
});

updateValues();
animate();
</script>
</body>
</html>
